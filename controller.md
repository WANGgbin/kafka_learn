描述 kafka controller 相关内容。

# controller 如何处理事件

作为 kafka 集群中的控制器，需要处理集群中的很多事件。这些时间来自于 zookeeper 的 watcher 或者后台任务等。

这些事件如何并发处理，处理逻辑久需要考虑并发安全的问题，实现起来就很负责。

因此，kafka 对这部分逻辑进行了优化。既然复杂度由事件的并发处理引起，那就单线程处理事件，各个事件触发后，写入到一个队列中，然后
由一个消费者线程专门处理队列中的集群事件。

这样的好处是可以大大简化处理事件的逻辑。

